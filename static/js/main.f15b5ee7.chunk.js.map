{"version":3,"sources":["_common/api.js","_common/membershipApi.js","invite/api.js","invite/InviteLink.js","coalition/api.js","vote/api.js","petition/api.js","petition/NewPetition.js","vote/Vote.js","petition/Petition.js","petition/PetitionList.js","petition/Petitions.js","rules/api.js","rules/Rules.js","user/api.js","user/Members.js","_common/ExpandBox.js","coalition/Charter.js","coalition/Delete.js","coalition/Leave.js","coalition/Coalition.js","coalition/CoalitionPage.js","coalition/MyCoalitions.js","coalition/NewCoalition.js","coalition/CoalitionPanel.js","invite/Invite.js","user/Account.js","auth/LoggedIn.js","auth/LogInPanel.js","auth/AuthPanel.js","auth/AuthWrapper.js","firebase/FirebaseConfig.js","firebase/FirebaseApp.js","_common/Layout.js","_common/Router.js","App.js","reportWebVitals.js","index.js"],"names":["api","collectionString","getDocRef","id","db","getFirestore","doc","getById","a","docRef","getDoc","set","data","setDoc","deleteDocument","deleteDoc","getCurrentUser","getAuth","currentUser","getCollection","collection","getOriginUrl","baseUrl","window","location","origin","add","coalitionId","memberId","newMembership","addDoc","getCoalitionIdsForCurrentUser","q2","query","where","uid","getDocs","membershipQuerySnapshot","coalitionIds","forEach","push","getByCoalitionId","docs","getAllByCoalitionId","getMemberCount","allMembers","length","remove","membership","Error","create","newInvite","getByCoalition","empty","newDocRef","get","inviteId","invite","accept","addMembership","getLink","inviteUrl","inviteLink","InviteLink","useState","setInviteLink","useEffect","getInviteLink","type","value","onClick","navigator","clipboard","writeText","disabled","className","write","name","newCoalition","createdBy","console","log","addMember","error","setCoalition","tenAtATime","subCoalitionIds","q3","snapshot3","iterator","n","current","l","end","part","slice","getFunction","resultArray","next","i","subArray","results","coalition","getByIdForUser","getVotesNeeded","memberCount","votesNeeded","x","getByInviteId","getInvite","inviteCoalition","submitVote","petitionId","selection","getByPetitionIdForUser","newVote","userId","q","getByPetitionId","create2","petitionType","newPetition","status","executePetition","petition","charterText","openCoalition","coalitionToUpdate","charter","checkVotes","votes","filter","v","getOutcome","yesVotes","noVotes","NewPetition","title","setTitle","body","setBody","message","setMessage","setPetitionType","setCharterText","onPetitionSubmit","e","preventDefault","onSubmit","onChange","target","placeholder","Vote","onVoteYes","onVoteNo","Petition","showVote","existingVote","setExistingVote","outcome","setOutcome","getExistingVote","result","getPetitionOutcome","response","PetitionList","petitions","map","Petitions","setPetitions","getFunc","petitionsReturned","openPetitions","p","passedPetitions","Rules","rules","setRules","effect","r","newUserData","displayName","user","memberships","Promise","all","m","memberUsers","Members","members","setMembers","getData","users","ExpandBox","headerText","children","isOpen","setIsOpen","Charter","Delete","deleteConfirm","setDeleteConfirm","Leave","showConfirm","setShowConfirm","errorMessage","setErrorMessage","navigate","useNavigate","onClickLeave","Coalition","selectedCoalition","setOpenCoalition","setActiveCoalition","setFromProps","isCreator","href","CoalitionPage","params","useParams","setSelectedCoalition","setFromParams","MyCoalitions","isDirty","setIsDirty","coalitions","setCoalitions","getCoalitionData","NewCoalition","newCoalitionName","setNewCoalitionName","addCoalition","CoalitionPanel","Invite","useSearchParams","searchParams","coalitionData","setCoalitionData","setInviteId","userIsMember","setUserIsMember","indexOf","onAcceptClick","Account","selectedAccount","setSelectedAccount","updatedDisplayName","setUpdatedDisplayName","effectFunc","account","onSubmitAccountSave","LoggedIn","auth","loggedInUser","setLoggedInUser","onAuthStateChanged","email","to","signOut","then","catch","LoginPanel","setEmail","password","setPassword","loginErrorMessage","setLoginErrorMessage","signInWithEmailAndPassword","userCredential","createUserWithEmailAndPassword","AuthPanel","AuthWrapper","props","firebaseConfig","apiKey","_env_","FIREBASE_API_KEY","authDomain","projectId","storageBucket","messagingSenderId","appId","FIREBASE_APP_ID","app","initializeApp","FirebaseApp","Layout","style","Router","path","element","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f15b5ee7.chunk.js","sourcesContent":["import { getAuth } from \"firebase/auth\";\nimport { collection, doc, getDoc, getFirestore, setDoc , deleteDoc} from \"firebase/firestore\";\n\nconst api = (collectionString) => {\n\n  const getCurrentUser = () => {\n    const auth = getAuth();\n    return auth.currentUser;\n  }\n  const getDocRef = (id) => {\n    const db = getFirestore();\n    return doc(db, collectionString, id);\n  }\n  const getCollection = () => {\n    const db = getFirestore();\n    return collection(db, collectionString);\n  }\n  const getById = async id => {\n    const docRef = getDocRef(id);\n    return await getDoc(docRef);\n  }\n\n  const set = async (id, data) => {\n    await setDoc(getDocRef(id), data);\n    return await getById(id);\n  }\n\n  const deleteDocument = async id =>{\n    await deleteDoc(getDocRef(id));\n  }\n\n  return { getCurrentUser, getDocRef, getCollection, getById, set, deleteDocument };\n}\nexport default api;\n\nconst getOriginUrl = () => {\n  const baseUrl = window.location.origin;\n  if (baseUrl === \"https://eyarham.github.io\") {\n    return baseUrl + \"/coalition\";\n  }\n  return baseUrl;\n}\nexport { getOriginUrl };","import { addDoc, deleteDoc, getDocs, query, where } from \"firebase/firestore\";\nimport api from \"./api\";\n\nconst { getCurrentUser, getDocRef, getCollection } = api(\"memberships\");\nconst add = async (coalitionId, memberId) => {\n\n  var newMembership = {\n    coalitionId,\n    memberId\n  }\n  await addDoc(getCollection(), newMembership);\n}\n\nconst getCoalitionIdsForCurrentUser = async () => {\n  const q2 = query(getCollection(), where(\"memberId\", \"==\", getCurrentUser().uid));\n  const membershipQuerySnapshot = await getDocs(q2);\n  var coalitionIds = [];\n  membershipQuerySnapshot.forEach((doc) => {\n    coalitionIds.push(doc.data().coalitionId);\n  });\n  return coalitionIds;\n}\n\nconst getByCoalitionId = async (coalitionId) => {\n  const q2 = query(getCollection(), where(\"memberId\", \"==\", getCurrentUser().uid), where(\"coalitionId\", \"==\", coalitionId));\n  const membershipQuerySnapshot = await getDocs(q2);\n  return membershipQuerySnapshot.docs[0];\n}\nconst getAllByCoalitionId = async (coalitionId) => {\n  const q2 = query(getCollection(), where(\"coalitionId\", \"==\", coalitionId));\n  const membershipQuerySnapshot = await getDocs(q2);\n  return membershipQuerySnapshot.docs;\n}\n\nconst getMemberCount = async (coalitionId) => {\n  const allMembers = await getAllByCoalitionId(coalitionId);\n  return allMembers.length;\n}\n\nconst remove = async (coalitionId) => {\n  const membership = await getByCoalitionId(coalitionId);\n  var memberCount = await getMemberCount(membership.data().coalitionId)\n  if (memberCount > 1) {\n    await deleteDoc(getDocRef(membership.id));\n  }\n  else {\n    throw new Error(\"Can not delete last member.\");\n  }\n}\n\nexport { add, getCoalitionIdsForCurrentUser, remove, getAllByCoalitionId, getMemberCount, getByCoalitionId };\n\n","import { addDoc, getDoc, getDocs, query, where } from \"firebase/firestore\";\nimport api, { getOriginUrl } from \"../_common/api\";\nimport { add as addMembership, getByCoalitionId } from '../_common/membershipApi';\n\nconst { getCurrentUser, getDocRef, getCollection } = api(\"invites\");\nconst sendInvite = (inviteEmail) => {\n\n}\n\nconst create = async (coalitionId, memberId) => {\n  var newInvite = {\n    coalitionId,\n    memberId\n  };\n  const docRef = await addDoc(getCollection(), newInvite);\n  return docRef;\n}\n\nconst getByCoalition = async (coalitionId) => {\n  const q2 = query(getCollection(), where(\"memberId\", \"==\", getCurrentUser().uid), where(\"coalitionId\", \"==\", coalitionId));\n  const membershipQuerySnapshot = await getDocs(q2);\n  if (membershipQuerySnapshot.empty) {\n    const newDocRef = await create(coalitionId, getCurrentUser().uid);\n    return newDocRef;\n  }\n  else {\n    return membershipQuerySnapshot.docs[0];\n  }\n}\n\nconst get = async (inviteId) => {\n  const docRef = getDocRef(inviteId);\n  const invite = await getDoc(docRef);\n  return invite;\n\n}\n\nconst accept = async (inviteId) => {\n  const invite = await get(inviteId);\n  //check existing\n  const { coalitionId } = invite.data();\n  const existingMembership = await getByCoalitionId(coalitionId);\n  if (existingMembership) {\n//\n  }\n  else {\n    await addMembership(coalitionId, getCurrentUser().uid);\n  }\n}\n\nconst getLink = async (coalitionId) => {\n  const baseUrl = getOriginUrl();\n  const inviteUrl = \"/#/invite\";\n  const invite = await getByCoalition(coalitionId);\n  const inviteId = invite.id;\n  const query = \"?id=\" + inviteId;\n  const inviteLink = baseUrl + inviteUrl + query;\n  return inviteLink;\n}\n\nexport { sendInvite, get, create, accept, getByCoalition, getLink };\n\n","import React, { useEffect, useState } from 'react';\nimport { getLink } from './api';\n\nconst InviteLink = ({coalitionId}) => {\n  const [inviteLink, setInviteLink] = useState(\"http://localhost:3000/\");\n  useEffect(() => {\n    const getInviteLink = async () => {\n      setInviteLink(await getLink(coalitionId));\n    }\n    if (coalitionId)\n      getInviteLink();\n  }, [coalitionId])\n  return (\n    <div>\n      <div>Invite Link:</div>\n      <input type=\"button\" value=\"Copy Invite Link\" onClick={() => { navigator.clipboard.writeText(inviteLink) }}></input>\n      <div>\n        <textarea disabled value={inviteLink} className='inviteLinkBox'></textarea>\n      </div>\n    </div>\n  )\n}\n\nexport default InviteLink\n","import { addDoc, getDoc, getDocs, query, setDoc, where } from \"firebase/firestore\";\nimport api, { getOriginUrl } from \"../_common/api\";\nimport { add as addMember, getByCoalitionId, getCoalitionIdsForCurrentUser, getMemberCount } from \"../_common/membershipApi\";\nimport {get as getInvite} from \"../invite/api\";\n\nconst { getCurrentUser, getDocRef, getCollection, deleteDocument } = api(\"coalitions\");\n\nconst write = async (name) => {\n  try {\n    var newCoalition = {\n      name,\n      createdBy: getCurrentUser().uid\n    }\n    const docRef = await addDoc(getCollection(), newCoalition);\n    console.log(\"Document written with ID: \", docRef.id);\n    await addMember(docRef.id, getCurrentUser().uid);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n}\n\nconst setCoalition = async (id, data) => {\n  await setDoc(getDocRef(id), data);\n  return await getById(id);\n}\nconst get = async () => {\n  const coalitionIds = await getCoalitionIdsForCurrentUser();\n  return tenAtATime(coalitionIds, async (subCoalitionIds) => {\n    if (subCoalitionIds.length === 0) return [];\n    const q3 = query(getCollection(), where(\"__name__\", \"in\", subCoalitionIds));\n    const snapshot3 = await getDocs(q3);\n    return snapshot3.docs;\n  })\n\n}\nvar iterator = function (a, n) {\n  var current = 0,\n    l = a.length;\n  return function () {\n    if (current === -1) return [];\n    var end = current + n;\n    var part = a.slice(current, end);\n    current = end < l ? end : -1;\n    return part;\n  };\n};\nconst tenAtATime = async (coalitionIds, getFunction) => {\n  var resultArray = [];\n  var next = iterator(coalitionIds, 10);\n  for (var i = 0; i < 10; i++) {\n    var subArray = next();\n    var results = await getFunction(subArray);\n    resultArray.push(...results);\n  }\n  return resultArray;\n}\n\nconst getAll = async () => {\n  const querySnapshot = await getDocs(getCollection());\n  return querySnapshot.docs;\n}\n\nconst getById = async (id) => {\n    const docRef = getDocRef(id);\n    const coalition = await getDoc(docRef);\n    return coalition;\n}\n\nconst getByIdForUser = async (id)=>{\n  const membership = await getByCoalitionId(id);\n  if (membership) {\n    return await getById(id);\n  }\n  else{\n    throw new Error(\"Coalition does not exist or user is not a member.\");\n  }\n}\n\nconst getCoalitionLink = (coalitionId) => {\n  const coalitionUrl = \"/#/coalition/\";\n  const link = getOriginUrl() + coalitionUrl + coalitionId;\n  return link;\n}\nconst getCoalitionRedirect = (coalitionId) => {\n  const coalitionUrl = \"/coalition/\";\n  const link = coalitionUrl + coalitionId;\n  return link;\n}\nconst votesNeededRule = x => {\n  if (x < 4) {\n    return x\n  }\n  else {\n    return x / 2;\n  }\n}\nconst getVotesNeeded = async (coalitionId) => {\n  //const coalition = await getById(coalitionId);\n  const memberCount = await getMemberCount(coalitionId);\n  const votesNeeded = votesNeededRule(memberCount);\n  return votesNeeded;\n}\n\nconst getByInviteId = async (inviteId) =>{\n  \n  var invite = await getInvite(inviteId);\n  var inviteCoalition = await getById(invite.data().coalitionId);\nreturn inviteCoalition\n}\n\nexport { write, get, getAll, getByIdForUser, setCoalition, getCoalitionLink, getCoalitionRedirect, getVotesNeeded, deleteDocument,getByInviteId };\n\n","import { addDoc, getDocs, query, where } from \"firebase/firestore\";\nimport api from \"../_common/api\";\n\nconst { getCurrentUser, getCollection } = api(\"votes\");\n\nconst submitVote = async (petitionId, selection) => {\n  //check for existing vote\n\n  const existingVote = await getByPetitionIdForUser(petitionId);\n  if (existingVote) {\n    //update existing vote\n\n  }\n  else {\n    const newVote = {\n      petitionId,\n      userId: getCurrentUser().uid,\n      selection\n    }\n    await addDoc(getCollection(), newVote);\n  }\n}\n\nconst getByPetitionIdForUser = async (petitionId) => {\n  const q = query(getCollection(), where(\"petitionId\", \"==\", petitionId), where(\"userId\", \"==\", getCurrentUser().uid));\n  const membershipQuerySnapshot = await getDocs(q);\n  return membershipQuerySnapshot.docs[0];\n}\n\nconst getByPetitionId = async (petitionId) => {\n  const q = query(getCollection(), where(\"petitionId\", \"==\", petitionId));\n  const membershipQuerySnapshot = await getDocs(q);\n  return membershipQuerySnapshot.docs;\n}\n\nexport { submitVote, getByPetitionId, getByPetitionIdForUser };\n\n","import { addDoc, getDocs, query, where } from \"firebase/firestore\";\nimport { getByIdForUser, getVotesNeeded, setCoalition } from '../coalition/api';\nimport { getByPetitionId } from \"../vote/api\";\nimport api from \"../_common/api\";\n\nconst { getCurrentUser, getById, getCollection, set } = api(\"petitions\");\n\nconst create2 = async (coalitionId, petitionType, data) => {\n  const votesNeeded = await getVotesNeeded(coalitionId);\n  const newPetition = {\n    coalitionId,\n    petitionType,\n    userId: getCurrentUser().uid,\n    votesNeeded,\n    status: \"new\",\n    ...data\n  }\n  await addDoc(getCollection(), newPetition);\n\n}\n\nconst getByCoalitionId = async coalitionId => {\n  const q2 = query(getCollection(), where(\"coalitionId\", \"==\", coalitionId));\n  const membershipQuerySnapshot = await getDocs(q2);\n  return membershipQuerySnapshot.docs;\n}\n\nconst executePetition = async (petitionId) => {\n  const petition = await getById(petitionId);\n  const { petitionType, coalitionId, charterText } = petition.data();\n  if (petitionType === \"1\") {\n    const openCoalition = await getByIdForUser(coalitionId);\n    const coalitionToUpdate = { ...openCoalition.data(), charter: charterText }\n    await setCoalition(openCoalition.id, coalitionToUpdate);\n  }\n  await set(petitionId, { ...petition.data(), status: \"complete\" });\n}\nconst checkVotes = async (petitionId) => {\n  const petition = await getById(petitionId);\n  const votesNeeded = petition.data().votesNeeded;\n  const votes = await getByPetitionId(petitionId);\n  const yesVotes = votes.filter(v => v.data().selection === \"yes\")\n  if (yesVotes.length >= votesNeeded) {\n    await executePetition(petitionId);\n  }\n}\n\nconst getOutcome = async (petitionId)=>{\n  const petition = await getById(petitionId);\n  const votesNeeded = petition.data().votesNeeded;\n  const votes = await getByPetitionId(petitionId);\n  const yesVotes = votes.filter(v => v.data().selection === \"yes\").length;\n  const noVotes = votes.filter(v => v.data().selection === \"no\").length;\n  \nreturn {votesNeeded, yesVotes, noVotes}\n\n}\n\nconst updatePetition = async (petitionId) => {\n  const petition = getById(petitionId);\n  await set(petitionId, { ...petition });\n}\n\nexport { getByCoalitionId, checkVotes, create2, updatePetition, getOutcome };\n\n","import React, { useState } from 'react';\nimport { create2 } from './api';\n\nconst NewPetition = ({ coalitionId }) => {\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [petitionType, setPetitionType] = useState(\"0\");\n  const [charterText, setCharterText] = useState();\n\n  const onChangeTitle = e => {\n    setTitle(e.target.value);\n  }\n  const onChangeBody = e => {\n    setBody(e.target.value);\n  }\n  const onPetitionSubmit = async e => {\n    e.preventDefault();\n    if (petitionType === \"0\") {\n      await create2(coalitionId, petitionType, { title, body })\n    }\n    else if (petitionType === \"1\") {\n      await create2(coalitionId, petitionType, { charterText })\n    }\n\n    setMessage(\"Created Successfully\");\n  }\n  const onPetitionTypeChange = e => {\n    setPetitionType(e.target.value);\n  }\n  const onChangeCharterText = e => {\n    setCharterText(e.target.value);\n  }\n  return (\n    <form onSubmit={onPetitionSubmit}>\n      <select onChange={onPetitionTypeChange}>\n        <option value={0}>Text Petition</option>\n        <option value={1}>Update Charter</option>\n      </select>\n      {petitionType === \"0\" && (\n        <div>\n          <div>text petition</div>\n          <div><input onChange={onChangeTitle} placeholder='title'></input></div>\n          <div><input onChange={onChangeBody} placeholder='body'></input></div>\n        </div>\n      )}\n      {petitionType === \"1\" && (\n        <div>\n          <div>update charter</div>\n          <div><input onChange={onChangeCharterText} placeholder='charter text'></input></div>\n        </div>\n      )}\n      <div><input type=\"submit\" value=\"submit petition\"></input></div>\n      <div>{message}</div>\n    </form>\n  )\n}\n\nexport default NewPetition\n","import React from 'react';\nimport { checkVotes } from '../petition/api';\nimport { submitVote } from './api';\n\nconst Vote = ({ petitionId }) => {\n  const onVoteYes = async e => {\n    e.preventDefault();\n    await submitVote(petitionId, \"yes\");\n    await checkVotes(petitionId);\n  }\n  const onVoteNo = async e => {\n    e.preventDefault();\n    await submitVote(petitionId, \"no\");\n    await checkVotes(petitionId);\n  }\n  return (\n    <div>\n      <input type=\"button\" value=\"yes\" onClick={onVoteYes}></input>\n      <input type=\"button\" value=\"no\" onClick={onVoteNo}></input>\n    </div>\n  )\n}\n\nexport default Vote\n","import React, { useEffect, useState } from 'react'\nimport { getByPetitionIdForUser } from '../vote/api';\nimport Vote from '../vote/Vote';\nimport { getOutcome } from './api';\n\nconst Petition = ({ petition, showVote }) => {\n  const [existingVote, setExistingVote] = useState()\n  const [outcome, setOutcome] = useState()\n  useEffect(() => {\n    const getExistingVote = async () => {\n      const result = await getByPetitionIdForUser(petition.id);\n      setExistingVote(result);\n    }\n    getExistingVote();\n  }, [petition.id]);\n  useEffect(() => {\n    const getPetitionOutcome = async () =>{\n      const response =await  getOutcome(petition.id);\n      setOutcome(response)\n    \n    }\n    getPetitionOutcome();\n    \n  }, [petition.id])\n  const data = petition.data();\n  return (<div className='petition-block'>\n    Status: {data.status}\n    {data.petitionType === \"0\" && <div>Title: {data.title}</div>}\n    {data.petitionType === \"0\" && <div>Body: {data.body}</div>}\n    {data.petitionType === \"1\" && <div>Text: {data.charterText}</div>}\n    {showVote && <Vote petitionId={petition.id} ></Vote>}\n    \n    {existingVote && <div>Your vote: {existingVote.data().selection}</div>}\n    {outcome && <div>Outcome: Yes: {outcome.yesVotes} No: {outcome.noVotes} Needed: {outcome.votesNeeded} Has Passed: {(outcome.yesVotes >= outcome.votesNeeded)?\"yes\":\"no\"}</div>}\n  </div>)\n\n}\n\nexport default Petition\n","import React from 'react';\nimport Petition from './Petition';\n\nconst PetitionList = ({ petitions, showVote }) => {\n  return (\n    <div>\n      {petitions && (petitions.map((petition, i) => <Petition key={i} petition={petition} showVote={showVote} />))}\n    </div>\n  )\n}\n\nexport default PetitionList\n","import React, { useEffect, useState } from 'react'\nimport { getByCoalitionId } from './api'\nimport './petition.css'\nimport PetitionList from './PetitionList'\n\nconst Petitions = ({ coalitionId }) => {\n  const [petitions, setPetitions] = useState()\n  useEffect(() => {\n    const getFunc = async () => {\n      const petitionsReturned = await getByCoalitionId(coalitionId);\n      setPetitions(petitionsReturned);\n    }\n    getFunc()\n  }, [coalitionId])\n\n  const openPetitions = () => {\n    return petitions.filter(p => p.data().status === \"new\");\n  }\n  const passedPetitions = () => {\n    return petitions.filter(p => p.data().status === \"complete\");\n  }\n  return (\n    <div>\n      {petitions && openPetitions() && (openPetitions().length > 0) && <h2>Open Petitions</h2>}\n      {petitions && <PetitionList petitions={openPetitions()} showVote={true} />}\n      {petitions && passedPetitions() && (passedPetitions().length > 0) && <h2>Passed Petitions</h2>}\n      {petitions && <PetitionList petitions={passedPetitions()} showVote={false} />}\n    </div>\n  )\n}\n\nexport default Petitions","const getByCoalitionId = async (coalitionId) =>{\n  \n}\nexport {getByCoalitionId};","import React, { useEffect, useState } from 'react';\nimport { getByCoalitionId } from './api';\n\nconst Rules = ({ coalitionId }) => {\n  const [rules, setRules] = useState();\n  useEffect(() => {\n    const effect = async () => {\n      const result = await getByCoalitionId(coalitionId)\n      setRules(result);\n    }\n    effect();\n\n  }, [coalitionId])\n  if(!rules) return (<div>No rules yet...</div>);\n  return (\n    <div>\n      {rules && rules.map((r, i) => <div key={i}>rule: </div>)}\n    </div>\n  )\n}\n\nexport default Rules\n","import { addDoc, getDoc, getDocs, query, where } from \"firebase/firestore\";\nimport api from \"../_common/api\";\nimport { getAllByCoalitionId } from \"../_common/membershipApi\";\n\nconst { getCurrentUser, getCollection, set } = api(\"users\");\n\nconst create = async (userId) => {\n  var newUserData = {\n    userId: userId,\n    displayName: '',\n    createdBy: getCurrentUser().uid\n  }\n  const docRef = await addDoc(getCollection(), newUserData);\n  return await getDoc(docRef);\n}\n\nconst get = async () => {\n  const user = getCurrentUser();\n  return await getById(user.uid);\n  // const q2 = query(getCollection(), where(\"userId\", \"==\", user.uid));\n  // const membershipQuerySnapshot = await getDocs(q2);\n  // if(membershipQuerySnapshot.empty) return await getDoc(create(user.uid));\n  // return membershipQuerySnapshot.docs[0];\n}\n\nconst getById = async (id) => {\n  const q2 = query(getCollection(), where(\"userId\", \"==\", id));\n  const membershipQuerySnapshot = await getDocs(q2);\n  if (membershipQuerySnapshot.empty) return await getDoc(create(id));\n  return membershipQuerySnapshot.docs[0];\n}\nconst getByCoalitionId = async (coalitionId) => {\n  const memberships = await getAllByCoalitionId(coalitionId);\n  const memberUsers = await Promise.all(memberships.map(async (m, i) => {\n    const user = await getById(m.data().memberId);\n    return user;\n  }));\n  return memberUsers;\n}\n\nexport { create, get, set, getByCoalitionId };\n","import React, { useEffect, useState } from 'react';\nimport { getByCoalitionId } from './api';\n\nconst Members = ({ coalitionId }) => {\n  const [members, setMembers] = useState();\n  useEffect(() => {\n    const getData = async () => {\n      const users = await getByCoalitionId(coalitionId);\n      setMembers(users);\n    }\n    getData();\n  }, [coalitionId])\n  return (\n    <div>\n      <div>Member number: {members && members.length}</div>\n      {members && members.map((m, i) => {\n        if (m) {\n          const { displayName } = m.data();\n          return (<div key={i}>{displayName || \"no display name\"}</div>);\n        }\n        else return <div key={i}>No info</div>\n      })}\n    </div>\n  )\n}\n\nexport default Members\n","import React, { useState } from 'react';\nimport './common.css';\n\nconst ExpandBox = ({ headerText, children }) => {\n  const [isOpen, setIsOpen] = useState();\n  const onHeaderClick = e => {\n    setIsOpen(!isOpen);\n  }\n  return (<div className='expand-box'>\n    <div className='expand-box-header' onClick={onHeaderClick}>{headerText}</div>\n    {isOpen && <div className='expand-box-children'>{children}</div>}\n  </div>);\n}\nexport default ExpandBox\n","import React from 'react';\n\nconst Charter = ({ openCoalition }) => {\n  const charterText = openCoalition.data().charter;\n  return (\n    <div>\n      <div>Charter:</div>\n      <textarea disabled value={charterText}></textarea>\n    </div>\n  )\n}\n\nexport default Charter\n","import React, {useState} from 'react'\nimport { deleteDocument } from './api';\n\nconst Delete = ({openCoalition}) => {\n  const [deleteConfirm, setDeleteConfirm] = useState(false);\n  \n  const onDeleteClick = e => {\n    e.preventDefault();\n    if (deleteConfirm) {\n      deleteDocument(openCoalition.id)\n      setDeleteConfirm(false);\n    }\n    else setDeleteConfirm(true);\n  }\n  return (\n    <div>Creator things\n    <div>\n      <input type=\"button\" value=\"Delete Coalition\" onClick={onDeleteClick}></input>\n    </div>\n    <div>{deleteConfirm && <div>Delete?</div>}</div>\n  </div>\n  )\n}\n\nexport default Delete\n","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { remove } from '../_common/membershipApi';\n\n\n\nconst Leave = ({ openCoalition }) => {\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(false);\n  const navigate = useNavigate();\n  const onClickLeave = async e => {\n    e.preventDefault();\n    if (!showConfirm) { setShowConfirm(true); }\n    else {\n      try {\n        await remove(openCoalition.id);\n        navigate(\"/\");\n      }\n      catch (e) {\n        setErrorMessage(e.message);\n      }\n    }\n  }\n  return (\n    <div>\n      <input type=\"button\" onClick={onClickLeave} value={\"Leave \" + openCoalition.data().name}></input>\n      {showConfirm && <div>click again to confirm</div>}\n      <div>\n        {errorMessage}\n      </div>\n    </div>\n  )\n}\n\nexport default Leave\n","import React, { useEffect, useState } from 'react';\nimport InviteLink from '../invite/InviteLink';\nimport NewPetition from '../petition/NewPetition';\nimport Petitions from '../petition/Petitions';\nimport Rules from '../rules/Rules';\nimport Members from '../user/Members';\nimport api from '../_common/api';\nimport ExpandBox from '../_common/ExpandBox';\nimport { getCoalitionLink } from './api';\nimport Charter from './Charter';\nimport Delete from './Delete';\nimport Leave from './Leave';\n\nconst Coalition = ({ selectedCoalition }) => {\n  const [openCoalition, setOpenCoalition] = useState(false);\n  const setActiveCoalition = async (coalition) => {\n    setOpenCoalition(coalition);\n  }\n  useEffect(() => {\n    const setFromProps = async () => setActiveCoalition(selectedCoalition);\n    setFromProps();\n  }, [selectedCoalition])\n  if (!openCoalition) return <div>Loading</div>;\n  const isCreator = openCoalition && openCoalition.data().createdBy === api().getCurrentUser().uid;\n  return (\n    <div>\n      <h2> {openCoalition.data().name}</h2>\n      <a href={getCoalitionLink(openCoalition.id)}>Coalition Link</a>\n\n      <ExpandBox headerText=\"Members\">\n        <Members coalitionId={openCoalition.id} />\n      </ExpandBox>\n      <ExpandBox headerText=\"Charter\">\n        <Charter openCoalition={openCoalition} />\n      </ExpandBox>\n      <ExpandBox headerText=\"Rules\"><Rules coalitionId={openCoalition.id} /></ExpandBox>\n      <ExpandBox headerText=\"Invite\">\n        <InviteLink coalitionId={openCoalition.id} />\n      </ExpandBox>\n      <ExpandBox headerText=\"New Petition\">\n        <NewPetition coalitionId={openCoalition.id} />\n      </ExpandBox>\n      <ExpandBox headerText=\"Petitions\">\n        <Petitions coalitionId={openCoalition.id} />\n      </ExpandBox>\n      <Leave openCoalition={openCoalition} />\n      <div>\n        {isCreator && <Delete openCoalition={openCoalition} />}\n      </div>\n    </div>\n  )\n}\n\nexport default Coalition\n","import React, { useState , useEffect} from 'react'\nimport Coalition from './Coalition'\nimport { useParams } from \"react-router-dom\";\nimport { getByIdForUser } from './api';\n\nconst CoalitionPage = () => {\n  let params = useParams();\n  const [selectedCoalition, setSelectedCoalition] = useState()\n  const [message, setMessage] = useState()\n \n  useEffect(() => {\n    const setFromParams = async () => {\n      try{\n      const coalition = await getByIdForUser(params.coalitionId);     \n      setSelectedCoalition(coalition);\n      }\n      catch(e){\n        setMessage(e.message);\n      }\n    }\n    setFromParams();\n  }, [params.coalitionId])\n  if(message) return <div>{message}</div>;\n  if(!selectedCoalition) return <div>Loading...</div>;\n  return (\n    <Coalition selectedCoalition={selectedCoalition} />  \n  )\n}\n\nexport default CoalitionPage\n","import React, { useEffect, useState } from 'react';\nimport { get } from './api';\n\nconst MyCoalitions = ({ isDirty, setIsDirty, setSelectedCoalition }) => {\n  const [coalitions, setCoalitions] = useState();\n  const getCoalitionData = async () => {\n    const coalitions = await get();\n    setCoalitions(coalitions);\n  }\n  // Merge of componentDidMount and componentDidUpdate\n  useEffect(() => {\n    isDirty && getCoalitionData();\n    isDirty && setIsDirty(false);\n    console.log(\"This is mounted or updated.\");\n  }, [isDirty, setIsDirty]);\n\n  return (\n    <div>\n      My coalitions\n      {coalitions && coalitions.map((coalition, i) => {\n        const onSelectCoalition = (e) => {\n          setSelectedCoalition(coalition);\n        }\n        return (\n          <div key={i}>\n            {coalition.data().name}\n            <input type=\"button\" value=\"open\" onClick={onSelectCoalition}></input>\n          </div>)\n      })}\n    </div>\n  )\n}\n\nexport default MyCoalitions\n","import React, { useState } from 'react';\nimport { write } from './api';\n\nconst NewCoalition = ({ setIsDirty }) => {\n  const [newCoalitionName, setNewCoalitionName] = useState();\n  const addCoalition = async (e) => {\n    e.preventDefault();\n    await write(newCoalitionName);\n    setIsDirty(true);\n  }\n  const newCoalitionNameChange = (e) => {\n    setNewCoalitionName(e.target.value);\n  }\n  return (\n    <div>\n      Add New Coalition\n      <form onSubmit={addCoalition}>\n        <input onChange={newCoalitionNameChange} value={newCoalitionName}></input>\n        <input type=\"submit\" />\n      </form>\n    </div>\n  )\n}\n\nexport default NewCoalition\n","import React, { useState } from 'react';\nimport Coalition from './Coalition';\nimport MyCoalitions from './MyCoalitions';\nimport NewCoalition from './NewCoalition';\n\nconst CoalitionPanel = () => {\n  const [isDirty, setIsDirty] = useState(true);\n  const [selectedCoalition, setSelectedCoalition] = useState();\n\n  return (\n    <div className='widget-panel'>\n      <MyCoalitions isDirty={isDirty} setIsDirty={setIsDirty} setSelectedCoalition={setSelectedCoalition} />\n      <NewCoalition setIsDirty={setIsDirty} />\n      {selectedCoalition && <Coalition selectedCoalition={selectedCoalition} />}\n    </div>\n  )\n}\n\nexport default CoalitionPanel\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { getByInviteId, getCoalitionRedirect } from '../coalition/api';\nimport { getCoalitionIdsForCurrentUser } from '../_common/membershipApi';\nimport { accept } from './api';\n\nconst Invite = () => {\n  let [searchParams] = useSearchParams();\n  let navigate = useNavigate();\n  const [coalition, setCoalition] = useState();\n  const [coalitionData, setCoalitionData] = useState();\n  const [inviteId, setInviteId] = useState();\n  const [userIsMember, setUserIsMember] = useState(false);\n  console.log(searchParams);\n\n  useEffect(() => {\n    const getData = async () => {\n      let inviteId = searchParams.get(\"id\");\n      setInviteId(inviteId);\n      var inviteCoalition = await getByInviteId(inviteId);\n      //check membership\n      var userCoalitionIds = await getCoalitionIdsForCurrentUser();\n      if (userCoalitionIds.indexOf(inviteCoalition.id) > -1) {\n        setUserIsMember(true)\n      }\n      setCoalition(inviteCoalition);\n      setCoalitionData(inviteCoalition.data());\n    }\n    getData();\n  }, [searchParams])\n  const onAcceptClick = async e => {\n    e.preventDefault();\n    await accept(inviteId);\n    navigate(getCoalitionRedirect(coalition.id));\n  }\n\n  if (!coalitionData) return <div>Loading...</div>\n  if (userIsMember) return <div>You are a member of {coalitionData.name} </div>\n  return (\n    <div>\n      <div>\n        You've been invited to join {coalitionData.name}\n      </div>\n      <div>\n        <h2>Charter:</h2>\n        <p>{coalitionData.charter}</p>\n\n      </div>\n      <input type=\"button\" onClick={onAcceptClick} value=\"Accept\"></input>\n    </div>\n  )\n}\n\nexport default Invite\n","import React, { useState, useEffect } from 'react'\nimport { get, set } from './api';\n\n\nconst Account = () => {\n  const [selectedAccount, setSelectedAccount] = useState();\n  const [updatedDisplayName, setUpdatedDisplayName] = useState('');\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    const effectFunc = async () => {\n      const account = await get();\n      setSelectedAccount(account);\n      const displayName = account.data().displayName\n      setUpdatedDisplayName(displayName);\n    }\n    effectFunc();\n\n  }, [])\n  const onChageDisplayName = e => {\n    setUpdatedDisplayName(e.target.value);\n    setMessage(\"\");\n  }\n  const onSubmitAccountSave = async e=>{\n    e.preventDefault();\n    await set(selectedAccount.id, {...selectedAccount.data(), displayName: updatedDisplayName})\n    setMessage(\"update successful\");\n  }\n  if (!selectedAccount) return <div>Loading...</div>;\n  const { displayName } = selectedAccount.data();\n  return (\n    <div>\n      {selectedAccount.id}\n      <form onSubmit={onSubmitAccountSave}>\n        <div>Display name: {displayName} </div>\n        <input type=\"text\" value={updatedDisplayName} onChange={onChageDisplayName}></input>\n        <input type=\"submit\" value=\"Save\"></input>\n      </form>\n      <div>{message}</div>\n    </div>\n  )\n}\n\nexport default Account;\n","import { getAuth, onAuthStateChanged, signOut } from \"firebase/auth\";\nimport React, { useState } from 'react';\nimport { Link } from \"react-router-dom\";\n\nfunction LoggedIn() {\nconst auth = getAuth();\n  const [loggedInUser, setLoggedInUser] = useState();\n  onAuthStateChanged(auth, (user) => {\n    if (user) {\n      // User is signed in, see docs for a list of available properties\n      // https://firebase.google.com/docs/reference/js/firebase.User\n      //const uid = user.uid;\n      setLoggedInUser(user);\n      // ...\n    } else {\n      // User is signed out\n      // ...\n      setLoggedInUser(null);\n    }\n  });\n  const signOutEvent = () => {\n    signOut(auth).then(() => {\n      // Sign-out successful.\n    }).catch((error) => {\n      // An error happened.\n    });\n  }\n\n  return (\n    <div>\n      {loggedInUser &&\n        <div>{loggedInUser.email}</div>\n      }\n      <Link to=\"/Account\" >Account</Link>\n      <input type=\"button\" onClick={signOutEvent} value=\"Sign Out\"></input>\n    </div>\n  )\n}\n\nexport default LoggedIn\n","import { createUserWithEmailAndPassword, getAuth, onAuthStateChanged, signInWithEmailAndPassword } from \"firebase/auth\";\nimport React, { useState } from 'react';\nimport { create } from \"../user/api\";\n\nfunction LoginPanel() {\n  const auth = getAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loggedInUser, setLoggedInUser] = useState();\n  const [loginErrorMessage, setLoginErrorMessage] = useState();\n  onAuthStateChanged(auth, (user) => {\n    if (user) {\n      // User is signed in, see docs for a list of available properties\n      // https://firebase.google.com/docs/reference/js/firebase.User\n      //const uid = user.uid;\n      setLoggedInUser(user);\n      // ...\n    } else {\n      // User is signed out\n      // ...\n      setLoggedInUser(null);\n    }\n  });\n  const createAccount = () => {\n    createUserWithEmailAndPassword(auth, email, password)\n      .then(async (userCredential) => {\n        // Signed in \n        // const user = userCredential.user;\n        // ...\n        await create(userCredential.user.uid)\n      })\n      .catch((error) => {\n        //const errorCode = error.code;\n        const errorMessage = error.message;\n        setLoginErrorMessage(errorMessage);\n        // ..\n      });\n\n  }\n  const signIn = () => {\n    signInWithEmailAndPassword(auth, email, password)\n      .then((userCredential) => {\n        // Signed in \n        //const user = userCredential.user;\n        // ...\n      })\n      .catch((error) => {\n        //const errorCode = error.code;\n        const errorMessage = error.message;\n        setLoginErrorMessage(errorMessage);\n      });\n\n  }\n  const changeEmail = (e) => {\n    setEmail(e.target.value);\n  }\n  const changePassword = (e) => {\n    setPassword(e.target.value);\n  }\n  return (\n    <div>\n      {loggedInUser &&\n        <div>{loggedInUser.email}</div>\n      }\n      {(!loggedInUser) && \"no user\"}\n      <form>\n        <input placeholder=\"email\" onChange={changeEmail}></input>\n        <input type=\"password\" placeholder=\"password\" onChange={changePassword}></input>\n        <input type=\"button\" onClick={signIn} value=\"Sign In\"></input>\n        <input type=\"button\" onClick={createAccount} value=\"Create New User\"></input>\n      </form>\n      <div>{loginErrorMessage}</div>\n    </div>\n  )\n}\n\nexport default LoginPanel\n","import { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport React, { useState } from 'react';\nimport LoggedIn from './LoggedIn';\nimport LoginPanel from './LogInPanel';\n\nfunction AuthPanel() {\nconst auth = getAuth();\n  const [loggedInUser, setLoggedInUser] = useState();\n  onAuthStateChanged(auth, (user) => {\n    if (user) {\n      // User is signed in, see docs for a list of available properties\n      // https://firebase.google.com/docs/reference/js/firebase.User\n      //const uid = user.uid;\n      setLoggedInUser(user);\n      // ...\n    } else {\n      // User is signed out\n      // ...\n      setLoggedInUser(null);\n    }\n  });\n\n  return (\n    <div>\n      {loggedInUser &&\n        <LoggedIn />\n      }\n      {(!loggedInUser) &&\n        <LoginPanel />\n      }\n\n    </div>\n  )\n}\n\nexport default AuthPanel\n","import { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport React, { useState } from 'react';\nimport AuthPanel from './AuthPanel';\n\nconst AuthWrapper = (props) => {\n  const auth = getAuth();\n  const [loggedInUser, setLoggedInUser] = useState();\n  onAuthStateChanged(auth, (user) => {\n    if (user) {\n      // User is signed in, see docs for a list of available properties\n      // https://firebase.google.com/docs/reference/js/firebase.User\n      //const uid = user.uid;\n      setLoggedInUser(user);\n      // ...\n    } else {\n      // User is signed out\n      // ...\n      setLoggedInUser(null);\n    }\n  });\n  return (\n    <div>\n      <div>\n        <AuthPanel />\n      </div>\n      <hr />\n      <div>\n        {loggedInUser && props.children}\n      </div>\n    </div>\n  )\n}\n\nexport default AuthWrapper\n","const defaultApiKey = \"AIzaSyAfQe2YjUh4yxN6Ax0ooIIgvb9RHGDTTKw\";\nconst defaultAppId = \"1:1016116125256:web:21badede89212eb844027d\";\nconst apiKey = ( window._env_ && window._env_.FIREBASE_API_KEY) || defaultApiKey;\nconst appId = ( window._env_ && window._env_.FIREBASE_APP_ID) || defaultAppId;\nconst firebaseConfig = {\n  apiKey,\n  authDomain: \"coalition-ba367.firebaseapp.com\",\n  projectId: \"coalition-ba367\",\n  storageBucket: \"coalition-ba367.appspot.com\",\n  messagingSenderId: \"1016116125256\",\n  appId\n};\n\nexport default firebaseConfig;","import { initializeApp } from \"firebase/app\";\nimport React from 'react';\nimport firebaseConfig from './FirebaseConfig';\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nconst FirebaseApp = ({ children }) => {\n\n\n  return (\n    <div>\n      {app && children}\n    </div>\n  )\n}\n\nexport default FirebaseApp\n","import React from 'react';\nimport { Outlet } from \"react-router-dom\";\nimport AuthWrapper from '../auth/AuthWrapper';\nimport FirebaseApp from '../firebase/FirebaseApp';\nimport { getOriginUrl } from './api';\n\nconst Layout = () => {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <a href={getOriginUrl()}><h1>Coalition</h1></a>\n        <span style={{ \"float\": \"right\" }}><a href=\"https://github.com/eyarham/coalition\">code</a></span>\n      </header>\n      <body>\n        <FirebaseApp>\n          <AuthWrapper>\n            <Outlet />\n          </AuthWrapper>\n        </FirebaseApp>\n      </body>\n    </div>\n  )\n}\n\nexport default Layout\n","import React from 'react';\nimport { Route, Routes } from \"react-router-dom\";\nimport CoalitionPage from '../coalition/CoalitionPage';\nimport CoalitionPanel from '../coalition/CoalitionPanel';\nimport Invite from '../invite/Invite';\nimport Account from '../user/Account';\nimport Layout from './Layout';\n\nconst Router = () => {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Layout />}>\n        <Route path=\"/\" element={<CoalitionPanel />} />\n        <Route path=\"/invite\" element={<Invite />} />\n        <Route path=\"/account\" element={<Account />} />\n        <Route path=\"/coalition/:coalitionId\" element={<CoalitionPage />} />\n      </Route>\n    </Routes>\n  )\n}\n\nexport default Router\n","import './App.css';\nimport Router from './_common/Router';\n\nfunction App() {\n  return (\n    <Router />\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from \"react-router-dom\";\nimport App from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter >\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}